(this["webpackJsonpcontact-manager"]=this["webpackJsonpcontact-manager"]||[]).push([[0],{30:function(e,r,t){},44:function(e,r,t){e.exports=t(75)},54:function(e,r,t){},73:function(e,r,t){},74:function(e,r,t){},75:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),o=t(22),s=t.n(o),c=t(2),i=t(3),l=t(6),u=t(4),m=t(7),p=t(13),d=t(20),h=t(19),f=t(9);function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(t,!0).forEach((function(r){Object(f.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var v={username:"",password:"",loading:!1,usernameErrors:"",passwordErrors:"",otherErrors:""};function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(t,!0).forEach((function(r){Object(f.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O={username:"",password:"",loading:!1,usernameErrors:"",passwordErrors:"",otherErrors:"",success:""};function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(t,!0).forEach((function(r){Object(f.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var N={loading:!1,count:"",contacts:"",error:""};function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(t,!0).forEach((function(r){Object(f.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var k={name:"",email:"",phoneNumber:"",loading:!1,nameErrors:"",emailErrors:"",phoneNumberErrors:"",otherErrors:"",success:""};function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(t,!0).forEach((function(r){Object(f.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var S={name:"",email:"",phoneNumber:"",loading:!1,nameErrors:"",emailErrors:"",phoneNumberErrors:"",otherErrors:"",success:""};function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(t,!0).forEach((function(r){Object(f.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var x={error:"",success:""},U=Object(h.c)({loginForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"reset_login_form":return v;case"update_login_form":return E({},e,Object(f.a)({},r.payload.name,r.payload.value));case"login_form_loading":return E({},e,{loading:r.payload});case"show_login_errors":return E({},e,{usernameErrors:r.payload.usernameErrors,passwordErrors:r.payload.passwordErrors,otherErrors:r.payload.otherErrors});case"clear_login_errors":return E({},e,{usernameErrors:"",passwordErrors:"",otherErrors:""});default:return e}},registerForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"reset_register_form":return O;case"update_register_form":return y({},e,Object(f.a)({},r.payload.name,r.payload.value));case"register_form_loading":return y({},e,{loading:r.payload});case"register_errors":return y({},e,{usernameErrors:r.payload.usernameErrors,passwordErrors:r.payload.passwordErrors,otherErrors:r.payload.otherErrors,success:""});case"clear_register_errors":return y({},e,{usernameErrors:"",passwordErrors:"",otherErrors:""});case"register_success":return y({},e,{success:r.payload});default:return e}},contactsFetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"contacts_fetch_loading":return j({},e,{loading:r.payload});case"contacts_fetch_error":return j({},e,{error:r.payload});case"contacts_fetch_success":return j({},e,{count:r.payload.count,contacts:r.payload.contacts});default:return e}},addContactForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"reset_add_contact_form":return k;case"update_add_contact_form":return C({},e,Object(f.a)({},r.payload.name,r.payload.value));case"add_contact_form_loading":return C({},e,{loading:r.payload});case"show_add_contact_errors":return C({},e,{nameErrors:r.payload.nameErrors,emailErrors:r.payload.emailErrors,phoneNumberErrors:r.payload.phoneNumberErrors,otherErrors:r.payload.otherErrors,success:""});case"clear_add_contact_errors":return C({},e,{nameErrors:"",emailErrors:"",phoneNumberErrors:"",otherErrors:""});case"add_contact_success":return C({},e,{success:r.payload});default:return e}},editContactForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"reset_edit_contact_form":return S;case"load_contact_details":return F({},e,{name:r.payload.name,email:r.payload.email,phoneNumber:r.payload.phoneNumber});case"update_edit_contact_form":return F({},e,Object(f.a)({},r.payload.name,r.payload.value));case"edit_contact_form_loading":return F({},e,{loading:r.payload});case"show_edit_contact_errors":return F({},e,{nameErrors:r.payload.nameErrors,emailErrors:r.payload.emailErrors,phoneNumberErrors:r.payload.phoneNumberErrors,otherErrors:r.payload.otherErrors,success:""});case"clear_edit_contact_errors":return F({},e,{nameErrors:"",emailErrors:"",phoneNumberErrors:"",otherErrors:""});case"edit_contact_success":return F({},e,{success:r.payload});default:return e}},deleteContact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"delete_contact_error":return I({},e,{error:r.payload});case"delete_contact_success":return I({},e,{success:r.payload});case"reset_delete_state":return x;default:return e}}}),A=t(40),T=t(5),R=t(8),L=(t(54),function(e){var r=e.headerText?e.headerText:"Codevickk";return n.a.createElement("div",{className:"header-container"},n.a.createElement("h2",{className:"text-center header-text"},r))}),W=(t(30),"http://victorydesigns.tk/contact-manager/api/"),H=t(12),M=t.n(H),B=function(e){return{type:"login_form_loading",payload:e}},J=function(e){return{type:"show_login_errors",payload:{usernameErrors:e.username,passwordErrors:e.password,otherErrors:e.error}}},X=function(){return{type:"clear_login_errors"}},Y=function(){return{type:"reset_login_form"}},G=function(e){return{type:"register_form_loading",payload:e}},V=function(e){return{type:"register_errors",payload:{usernameErrors:e.username,passwordErrors:e.password,otherErrors:e.error}}},q=function(){return{type:"clear_register_errors"}},z=function(e){return{type:"register_success",payload:e}},K=function(){return function(e){var r=localStorage.getItem("token");e(Q(!0)),M.a.post(W+"contacts/read.php",{token:r}).then((function(r){200===r.status&&(e($(r.data)),e(Q(!1)))})).catch((function(r){var t="";t=r.response?r.response.data:{error:"Unable to fetch information from the server"},e(Z(t)),e(Q(!1))}))}},Q=function(e){return{type:"contacts_fetch_loading",payload:e}},Z=function(e){return{type:"contacts_fetch_error",payload:e.error}},$=function(e){return{type:"contacts_fetch_success",payload:{count:e.count,contacts:e.contacts}}},ee=function(e){return{type:"add_contact_form_loading",payload:e}},re=function(e){return{type:"show_add_contact_errors",payload:{nameErrors:e.name,emailErrors:e.email,phoneNumberErrors:e.phone_number,otherErrors:e.error}}},te=function(){return{type:"clear_add_contact_errors"}},ae=function(e){return{type:"add_contact_success",payload:e}},ne=function(e){return{type:"load_contact_details",payload:{name:e.name,email:e.email,phoneNumber:e.phone_number}}},oe=function(e){return{type:"edit_contact_form_loading",payload:e}},se=function(e){return{type:"show_edit_contact_errors",payload:{nameErrors:e.name,emailErrors:e.email,phoneNumberErrors:e.phone_number,otherErrors:e.error}}},ce=function(){return{type:"clear_edit_contact_errors"}},ie=function(e){return{type:"edit_contact_success",payload:e}},le=function(e){return{type:"delete_contact_error",payload:e.error}},ue=function(e){return{type:"delete_contact_success",payload:e}},me=function(e){function r(e){var t;return Object(c.a)(this,r),(t=Object(l.a)(this,Object(u.a)(r).call(this,e))).props.resetLoginForm(),t.onChange=t.onChange.bind(Object(R.a)(t)),t.onSubmit=t.onSubmit.bind(Object(R.a)(t)),t}return Object(m.a)(r,e),Object(i.a)(r,[{key:"onChange",value:function(e){var r=e.target,t=r.name,a=r.value;this.props.updateLoginForm({name:t,value:a})}},{key:"onSubmit",value:function(e){e.preventDefault();var r=this.props,t=r.username,a=r.password;this.props.login({username:t,password:a})}},{key:"renderInputErrors",value:function(e){return n.a.createElement("div",{className:"invalid-feedback"},e)}},{key:"renderFormErrors",value:function(e){if("username"===e){if(this.props.usernameErrors)return this.renderInputErrors(this.props.usernameErrors.map((function(e){return e})))}else if("password"===e){if(this.props.passwordErrors)return this.renderInputErrors(this.props.passwordErrors.map((function(e){return e})))}else if(this.props.otherErrors)return n.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.otherErrors)}},{key:"render",value:function(){var e=localStorage.getItem("token"),r=(this.props.location.state||{from:{pathname:"/"}}).from;return e?n.a.createElement(d.a,{to:r}):n.a.createElement("div",{className:"sub-container"},n.a.createElement(L,{headerText:"Login"}),n.a.createElement("div",{className:"content-container auth-container"},this.renderFormErrors(),n.a.createElement("form",{className:"auth-form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",className:"form-control ".concat(this.props.usernameErrors?"is-invalid":""),id:"username","aria-describedby":"usernameHelp",placeholder:"Enter username",name:"username",onChange:this.onChange,value:this.props.username}),this.renderFormErrors("username")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control ".concat(this.props.passwordErrors?"is-invalid":""),id:"password",placeholder:"Password",name:"password",onChange:this.onChange,value:this.props.password}),this.renderFormErrors("password")),n.a.createElement("button",{type:"submit",className:"btn submit-btn",onClick:this.onSubmit,disabled:this.props.loading},this.props.loading?"Please Wait...":"Submit")),n.a.createElement("p",{className:"auth-info"},"You do not have an account?, Register ",n.a.createElement(p.b,{to:"/register"},"here"))))}}]),r}(a.Component),pe=Object(T.b)((function(e){var r=e.loginForm;return{username:r.username,password:r.password,loading:r.loading,usernameErrors:r.usernameErrors,passwordErrors:r.passwordErrors,otherErrors:r.otherErrors}}),{updateLoginForm:function(e){return{type:"update_login_form",payload:{name:e.name,value:e.value}}},login:function(e){var r=e.username,t=e.password;return function(e){e(X()),e(B(!0)),M.a.post(W+"user/login.php",{username:r,password:t}).then((function(t){if(200===t.status){var a=t.data.token;localStorage.setItem("token",a),localStorage.setItem("username",r),e(X()),e(Y()),e(B(!1))}})).catch((function(r){var t="";t=r.response?r.response.data:{error:"Unable to fetch information from the server"},e(J(t)),e(B(!1))}))}},resetLoginForm:Y})(me),de=function(e){function r(e){var t;return Object(c.a)(this,r),(t=Object(l.a)(this,Object(u.a)(r).call(this,e))).props.resetRegisterForm(),t.onChange=t.onChange.bind(Object(R.a)(t)),t.onSubmit=t.onSubmit.bind(Object(R.a)(t)),t}return Object(m.a)(r,e),Object(i.a)(r,[{key:"onChange",value:function(e){var r=e.target,t=r.name,a=r.value;this.props.updateRegisterForm({name:t,value:a})}},{key:"onSubmit",value:function(e){e.preventDefault();var r=this.props,t=r.username,a=r.password;this.props.register({username:t,password:a})}},{key:"renderInputErrors",value:function(e){return n.a.createElement("div",{className:"invalid-feedback"},e)}},{key:"renderFormErrors",value:function(e){if("username"===e){if(this.props.usernameErrors)return this.renderInputErrors(this.props.usernameErrors.map((function(e){return e})))}else if("password"===e){if(this.props.passwordErrors)return this.renderInputErrors(this.props.passwordErrors.map((function(e){return e})))}else if(this.props.otherErrors)return n.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.otherErrors)}},{key:"renderFormSuccess",value:function(){if(this.props.success)return n.a.createElement("div",{className:"alert alert-success",role:"alert"},this.props.success,", you can login ",n.a.createElement(p.b,{to:"/login"},"here"))}},{key:"render",value:function(){var e=localStorage.getItem("token"),r=(this.props.location.state||{from:{pathname:"/"}}).from;return e?n.a.createElement(d.a,{to:r}):n.a.createElement("div",{className:"sub-container"},n.a.createElement(L,{headerText:"Register"}),n.a.createElement("div",{className:"content-container auth-container"},this.renderFormErrors(),this.renderFormSuccess(),n.a.createElement("form",{className:"auth-form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",className:"form-control ".concat(this.props.usernameErrors?"is-invalid":""),id:"username","aria-describedby":"usernameHelp",placeholder:"Enter username",name:"username",onChange:this.onChange,value:this.props.username}),this.renderFormErrors("username")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control ".concat(this.props.passwordErrors?"is-invalid":""),id:"password",placeholder:"Password",name:"password",onChange:this.onChange,value:this.props.password}),this.renderFormErrors("password")),n.a.createElement("button",{type:"submit",className:"btn submit-btn",onClick:this.onSubmit,disabled:this.props.loading},this.props.loading?"Please Wait...":"Submit")),n.a.createElement("p",{className:"auth-info"},"Already have an account?, Login ",n.a.createElement(p.b,{to:"/login"},"here"))))}}]),r}(a.Component),he=Object(T.b)((function(e){var r=e.registerForm;return{username:r.username,password:r.password,loading:r.loading,usernameErrors:r.usernameErrors,passwordErrors:r.passwordErrors,otherErrors:r.otherErrors,success:r.success}}),{updateRegisterForm:function(e){return{type:"update_register_form",payload:{name:e.name,value:e.value}}},register:function(e){var r=e.username,t=e.password;return function(e){e(q()),e(G(!0)),M.a.post(W+"user/register.php",{username:r,password:t}).then((function(r){if(201===r.status){var t=r.data.message;e(q()),e(G(!1)),e(z(t))}})).catch((function(r){var t="";t=r.response?r.response.data:{error:"Unable to fetch information from the server"},e(V(t)),e(G(!1))}))}},resetRegisterForm:function(){return{type:"reset_register_form"}}})(de),fe=function(e){function r(e){var t;return Object(c.a)(this,r),(t=Object(l.a)(this,Object(u.a)(r).call(this,e))).confirmContactDelete=t.confirmContactDelete.bind(Object(R.a)(t)),t}return Object(m.a)(r,e),Object(i.a)(r,[{key:"renderResponse",value:function(){var e="";this.props.error?e=this.props.error:this.props.success&&(e=this.props.success),e&&(alert(e),this.props.resetDeleteState(),this.props.fetchContacts())}},{key:"confirmContactDelete",value:function(){var e=this.props.contact.contact_id;window.confirm("Are you sure you want to delete this contact?")&&this.props.deleteContact({id:e})}},{key:"render",value:function(){this.renderResponse();var e=this.props.contact,r=e.contact_id,t=e.name,a=e.email,o=e.phone_number;return n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},this.props.no),n.a.createElement("td",null,t),n.a.createElement("td",null,a),n.a.createElement("td",null,o),n.a.createElement("td",null,n.a.createElement(p.b,{to:"edit/".concat(r),role:"btn",className:"btn btn-secondary mr-2"},"Edit"),n.a.createElement("button",{className:"btn btn-danger",onClick:this.confirmContactDelete},"Delete")))}}]),r}(a.Component),be=Object(T.b)((function(e){var r=e.deleteContact;return{error:r.error,success:r.success}}),{deleteContact:function(e){var r=e.id;return function(e){var t=localStorage.getItem("token");M.a.post(W+"contacts/delete.php",{token:t,contact_id:r}).then((function(r){if(200===r.status){var t=r.data.message;e(ue(t))}})).catch((function(r){var t="";t=r.response?r.response.data:{error:"Unable to fetch information from the server"},e(le(t))}))}},fetchContacts:K,resetDeleteState:function(){return{type:"reset_delete_state"}}})(Object(d.g)(fe)),Ee=(t(73),function(e){function r(){var e,t;Object(c.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(u.a)(r)).call.apply(e,[this].concat(n)))).logout=function(){t.props.logout(),t.props.history.push("/login")},t}return Object(m.a)(r,e),Object(i.a)(r,[{key:"render",value:function(){return n.a.createElement("section",{className:"buttons"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-danger mr-2",onClick:this.logout},"Logout"),n.a.createElement(p.b,{to:"/",role:"btn",className:"btn btn-info mr-2 ".concat("/"===this.props.location.pathname?"disabled":"")},"Go Back To Home"),n.a.createElement(p.b,{to:"/add",role:"btn",className:"btn btn-primary mr-2 ".concat("/"!==this.props.location.pathname?"disabled":"")},"Add A New Contact")))}}]),r}(a.Component)),ve=Object(T.b)(null,{logout:function(){return function(){localStorage.removeItem("token"),localStorage.removeItem("username")}}})(Object(d.g)(Ee)),ge=function(e){function r(){return Object(c.a)(this,r),Object(l.a)(this,Object(u.a)(r).apply(this,arguments))}return Object(m.a)(r,e),Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"renderContent",value:function(){return this.props.loading?this.renderUnavailableContent("loading..."):this.props.error?this.renderUnavailableContent(n.a.createElement("div",{className:"alert alert-danger"},this.props.error)):this.props.count<1?this.renderUnavailableContent("You have no contacts on your list"):this.renderAvailableContent()}},{key:"renderUnavailableContent",value:function(e){return n.a.createElement("div",{className:"contacts-unavailable text-center"},n.a.createElement("p",null,e))}},{key:"renderAvailableContent",value:function(){var e=this;return this.count=0,n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},"Name"),n.a.createElement("th",{scope:"col"},"Email"),n.a.createElement("th",{scope:"col"},"Phone Number"),n.a.createElement("th",{scope:"col"},"Actions"))),n.a.createElement("tbody",null,this.props.contacts.map((function(r){return e.count=e.count+1,n.a.createElement(be,{key:r.contact_id,contact:r,no:e.count})}))))}},{key:"render",value:function(){return n.a.createElement("div",{className:"sub-container"},n.a.createElement(L,{headerText:"Contacts"}),n.a.createElement("div",{className:"content-container"},this.renderContent()),n.a.createElement(ve,null))}}]),r}(a.Component),ye=Object(T.b)((function(e){var r=e.contactsFetch;return{loading:r.loading,count:r.count,contacts:r.contacts,error:r.error}}),{fetchContacts:K})(ge),Oe=function(e){function r(e){var t;return Object(c.a)(this,r),(t=Object(l.a)(this,Object(u.a)(r).call(this,e))).props.resetAddContactForm(),t.onChange=t.onChange.bind(Object(R.a)(t)),t.onSubmit=t.onSubmit.bind(Object(R.a)(t)),t}return Object(m.a)(r,e),Object(i.a)(r,[{key:"onChange",value:function(e){var r=e.target,t=r.name,a=r.value;this.props.updateAddContactForm({name:t,value:a})}},{key:"onSubmit",value:function(e){e.preventDefault();var r=this.props,t=r.name,a=r.email,n=r.phoneNumber;this.props.addContact({name:t,email:a,phoneNumber:n})}},{key:"renderInputErrors",value:function(e){return n.a.createElement("div",{className:"invalid-feedback"},e)}},{key:"renderFormErrors",value:function(e){switch(e){case"name":if(this.props.nameErrors)return this.renderInputErrors(this.props.nameErrors.map((function(e){return e})));break;case"email":if(this.props.emailErrors)return this.renderInputErrors(this.props.emailErrors.map((function(e){return e})));break;case"phoneNumber":if(this.props.phoneNumberErrors)return this.renderInputErrors(this.props.phoneNumberErrors.map((function(e){return e})));break;default:if(this.props.otherErrors)return n.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.otherErrors)}}},{key:"renderFormSuccess",value:function(){if(this.props.success)return n.a.createElement("div",{className:"alert alert-success",role:"alert"},this.props.success)}},{key:"render",value:function(){return n.a.createElement("div",{className:"sub-container"},n.a.createElement(L,{headerText:"Add New Contact"}),n.a.createElement("div",{className:"content-container"},this.renderFormErrors(),this.renderFormSuccess(),n.a.createElement("form",{className:"add-contact-form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control ".concat(this.props.nameErrors?"is-invalid":""),id:"name",placeholder:"Name",name:"name",onChange:this.onChange,value:this.props.name}),this.renderFormErrors("name")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Email"),n.a.createElement("input",{type:"email",className:"form-control ".concat(this.props.emailErrors?"is-invalid":""),id:"email",placeholder:"Email",name:"email",onChange:this.onChange,value:this.props.email}),this.renderFormErrors("email")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Phone Number"),n.a.createElement("input",{type:"number",className:"form-control ".concat(this.props.phoneNumberErrors?"is-invalid":""),id:"phoneNumber",placeholder:"Phone Number",name:"phoneNumber",onChange:this.onChange,value:this.props.phoneNumber}),this.renderFormErrors("phoneNumber")),n.a.createElement("button",{type:"submit",className:"btn submit-btn",onClick:this.onSubmit,disabled:this.props.loading},this.props.loading?"Please Wait...":"Submit"))),n.a.createElement(ve,null))}}]),r}(a.Component),_e=Object(T.b)((function(e){var r=e.addContactForm;return{name:r.name,email:r.email,phoneNumber:r.phoneNumber,loading:r.loading,nameErrors:r.nameErrors,emailErrors:r.emailErrors,phoneNumberErrors:r.phoneNumberErrors,otherErrors:r.otherErrors,success:r.success}}),{updateAddContactForm:function(e){return{type:"update_add_contact_form",payload:{name:e.name,value:e.value}}},addContact:function(e){var r=e.name,t=e.email,a=e.phoneNumber;return function(e){var n=localStorage.getItem("token");e(te()),e(ee(!0)),M.a.post(W+"contacts/add.php",{token:n,name:r,email:t,phone_number:a}).then((function(r){if(201===r.status){var t=r.data.message;e(te()),e(ee(!1)),e(ae(t))}})).catch((function(r){var t="";t=r.response?r.response.data:{error:"Unable to fetch information from the server"},e(re(t)),e(ee(!1))}))}},resetAddContactForm:function(){return{type:"reset_add_contact_form"}}})(Oe),je=function(e){function r(e){var t;return Object(c.a)(this,r),(t=Object(l.a)(this,Object(u.a)(r).call(this,e))).props.resetEditContactForm(),t.onChange=t.onChange.bind(Object(R.a)(t)),t.onSubmit=t.onSubmit.bind(Object(R.a)(t)),t}return Object(m.a)(r,e),Object(i.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchContactDetails({id:e})}},{key:"onChange",value:function(e){var r=e.target,t=r.name,a=r.value;this.props.updateEditContactForm({name:t,value:a})}},{key:"onSubmit",value:function(e){e.preventDefault();var r=this.props.match.params.id,t=this.props,a=t.name,n=t.email,o=t.phoneNumber;this.props.editContact({contactID:r,name:a,email:n,phoneNumber:o})}},{key:"renderInputErrors",value:function(e){return n.a.createElement("div",{className:"invalid-feedback"},e)}},{key:"renderFormErrors",value:function(e){switch(e){case"name":if(this.props.nameErrors)return this.renderInputErrors(this.props.nameErrors.map((function(e){return e})));break;case"email":if(this.props.emailErrors)return this.renderInputErrors(this.props.emailErrors.map((function(e){return e})));break;case"phoneNumber":if(this.props.phoneNumberErrors)return this.renderInputErrors(this.props.phoneNumberErrors.map((function(e){return e})));break;default:if(this.props.otherErrors)return n.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.otherErrors)}}},{key:"renderFormSuccess",value:function(){if(this.props.success)return n.a.createElement("div",{className:"alert alert-success",role:"alert"},this.props.success)}},{key:"renderContent",value:function(){return this.props.loading?this.renderUnavailableContent("loading..."):this.renderAvailableContent()}},{key:"renderUnavailableContent",value:function(e){return n.a.createElement("div",{className:"contacts-unavailable text-center"},n.a.createElement("p",null,e))}},{key:"renderAvailableContent",value:function(){return n.a.createElement("div",null,this.renderFormErrors(),this.renderFormSuccess(),n.a.createElement("form",{className:"edit-contact-form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control ".concat(this.props.nameErrors?"is-invalid":""),id:"name",placeholder:"Name",name:"name",onChange:this.onChange,value:this.props.name}),this.renderFormErrors("name")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Email"),n.a.createElement("input",{type:"email",className:"form-control ".concat(this.props.emailErrors?"is-invalid":""),id:"email",placeholder:"Email",name:"email",onChange:this.onChange,value:this.props.email}),this.renderFormErrors("email")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Phone Number"),n.a.createElement("input",{type:"number",className:"form-control ".concat(this.props.phoneNumberErrors?"is-invalid":""),id:"phoneNumber",placeholder:"Phone Number",name:"phoneNumber",onChange:this.onChange,value:this.props.phoneNumber}),this.renderFormErrors("phoneNumber")),n.a.createElement("button",{type:"submit",className:"btn submit-btn",onClick:this.onSubmit,disabled:this.props.loading},this.props.loading?"Please Wait...":"Submit")))}},{key:"render",value:function(){return n.a.createElement("div",{className:"sub-container"},n.a.createElement(L,{headerText:"Edit Contact"}),n.a.createElement("div",{className:"content-container"},this.renderContent()),n.a.createElement(ve,null))}}]),r}(a.Component),Ne=Object(T.b)((function(e){var r=e.editContactForm;return{name:r.name,email:r.email,phoneNumber:r.phoneNumber,loading:r.loading,nameErrors:r.nameErrors,emailErrors:r.emailErrors,phoneNumberErrors:r.phoneNumberErrors,otherErrors:r.otherErrors,success:r.success}}),{fetchContactDetails:function(e){var r=e.id;return function(e){var t=localStorage.getItem("token");e(oe(!0)),M.a.post(W+"contacts/read_one.php",{token:t,contact_id:r}).then((function(r){if(200===r.status){var t=r.data;e(ce()),e(ne(t)),e(oe(!1))}})).catch((function(r){var t="";t=r.response?r.response.data:{error:"Unable to fetch information from the server"},e(se(t)),e(oe(!1))}))}},updateEditContactForm:function(e){return{type:"update_edit_contact_form",payload:{name:e.name,value:e.value}}},editContact:function(e){var r=e.contactID,t=e.name,a=e.email,n=e.phoneNumber;return function(e){var o=localStorage.getItem("token");e(ce()),e(oe(!0)),M.a.post(W+"contacts/edit.php",{token:o,contact_id:r,name:t,email:a,phone_number:n}).then((function(r){if(200===r.status){var t=r.data.message;e(ce()),e(oe(!1)),e(ie(t))}})).catch((function(r){var t="";t=r.response?r.response.data:{error:"Unable to fetch information from the server"},e(se(t)),e(oe(!1))}))}},resetEditContactForm:function(){return{type:"reset_edit_contact_form"}}})(je),we=(t(74),t(43)),Ce=function(e){var r=e.component,t=Object(we.a)(e,["component"]),a=localStorage.getItem("token");return n.a.createElement(d.b,Object.assign({},t,{render:function(e){return a?n.a.createElement(r,e):n.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ke=function(e){function r(){return Object(c.a)(this,r),Object(l.a)(this,Object(u.a)(r).apply(this,arguments))}return Object(m.a)(r,e),Object(i.a)(r,[{key:"render",value:function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,r=Object(h.e)(U,{},e(Object(h.a)(A.a)));return n.a.createElement(T.a,{store:r},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"main-container"},n.a.createElement(p.a,null,n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/register",component:he}),n.a.createElement(d.b,{path:"/login",component:pe}),n.a.createElement(Ce,{exact:!0,path:"/",component:ye}),n.a.createElement(Ce,{exact:!0,path:"/add",component:_e}),n.a.createElement(Ce,{exact:!0,path:"/edit/:id",component:Ne}))))))}}]),r}(a.Component);s.a.render(n.a.createElement(ke,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.2e226964.chunk.js.map